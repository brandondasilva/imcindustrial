"use strict";define([],function(){function a(a,b,c,d,e,f,g,h){var i,j,k=g+"posts?filter[category_name]=careers&";b.get(k+"filter[name]="+c.slug).then(function(b){console.log(b.status),a.postContent=b[0],i=b[0].title,j="imcindustrial.ca/careers/"+b[0].slug,h.setTitle(a.postContent.title+" | IMC Industrial Inc.")},function(a){console.log("ERROR: "+a)}),b.get(k+"filter[posts_per_page]=3").success(function(b){a.recentPostings=b}).error(function(a){console.log("ERROR: "+a)}),a["delete"]=function(b){for(var c=0;c<a.files.length;c++)a.files[c].name==b&&a.files.splice(c,1)},a.icon=function(a){var b=a.split(".");return"pdf"==b[b.length-1]?"pdf-icon":"doc"==b[b.length-1]||"docx"==b[b.length-1]?"word-icon":void 0},a.submit=function(){var c="https://imcindustrial.herokuapp.com/api/careers";a.statusMessage=null,a.clicked=!0,a.statusClass="loading-class";var d=new FormData;if(d.append("name",a.formData.inputName),d.append("from",a.formData.inputEmail),d.append("subject",i),d.append("message",a.formData.inputMessage),d.append("link",j),a.files&&a.files.length)for(var e=0;e<a.files.length;e++)d.append("attachment",a.files[e],a.files[e].name);else console.log("no files");var g={method:"POST",url:c,headers:{"Content-Type":void 0},transformRequest:angular.identiy,data:d};b(g).then(function(b){a.clicked=!1,200==b.data.statusCode||202==b.data.statusCode?(a.statusMessage="Success!",a.statusImage=f+"/images/icons/check.svg",a.statusClass="success"):(a.statusMessage="Error! Try again. "+b.data.statusCode,a.statusImage=f+"/images/icons/error.svg",a.statusClass="failed")},function(b){a.clicked=!1,a.statusMessage="Error! Try again.",a.statusImage=f+"/images/icons/error.svg",a.statusClass="failed"})}}return["$scope","$http","$stateParams","Upload","getPages","path","apiPath","SetTitle",a]});